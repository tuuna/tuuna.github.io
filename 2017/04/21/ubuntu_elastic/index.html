<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>记录一个Ubuntu16.10安装ElasticSearch的问题 | 洛文小站</title><meta name=keywords content><meta name=description content="其实这个问题没有真正解决，只是迫不得已的方法。
 问题描述   首先是笔者的系统信息
$ uname -a Linux XPS 4.8.0-46-generic #49-Ubuntu SMP Fri Mar 31 13:57:14 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux   接下来下载apt自带的elasticsearch
$ sudo apt install elasticsearch   下载非常的顺利，但是访问http://localhost:9200是拒绝访问的
  接下来我们看看这时候elasticsearch的服务状态，大致是这样的
  elasticsearch.service - LSB: Starts elasticsearch Loaded: loaded (/etc/init.d/elasticsearch; bad; vendor preset: enabled) Active: active (exited) since Thu 2017-04-21 12:03:54 EDT; 32min ago Docs: man:systemd-sysv-generator(8) Process: 1192 ExecStart=/etc/init.d/elasticsearch start (code=exited, status=0 Tasks: 0 (limit: 512) Apr 21 12:03:54 rubix2 systemd[1]: Starting LSB: Starts elasticsearch… Apr 21 12:03:54 rubix2 systemd[1]: Started LSB: Starts elasticsearch."><meta name=author content="赖杰"><link rel=canonical href=https://tuuna.github.io/2017/04/21/ubuntu_elastic/><link href=https://tuuna.github.io/assets/css/stylesheet.min.46b233709fd2c907e04a2d946c05f4e1d6edaf81b562cbfdaf6f11aeaa32248c.css integrity="sha256-RrIzcJ/SyQfgSi2UbAX04dbtr4G1Ysv9r28RrqoyJIw=" rel="preload stylesheet" as=style><link rel=icon href=https://tuuna.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tuuna.github.io/favicon16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tuuna.github.io/favicon32x32.png><link rel=apple-touch-icon href=https://tuuna.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tuuna.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.79.0"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-123-45','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="记录一个Ubuntu16.10安装ElasticSearch的问题"><meta property="og:description" content="其实这个问题没有真正解决，只是迫不得已的方法。
 问题描述   首先是笔者的系统信息
$ uname -a Linux XPS 4.8.0-46-generic #49-Ubuntu SMP Fri Mar 31 13:57:14 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux   接下来下载apt自带的elasticsearch
$ sudo apt install elasticsearch   下载非常的顺利，但是访问http://localhost:9200是拒绝访问的
  接下来我们看看这时候elasticsearch的服务状态，大致是这样的
  elasticsearch.service - LSB: Starts elasticsearch Loaded: loaded (/etc/init.d/elasticsearch; bad; vendor preset: enabled) Active: active (exited) since Thu 2017-04-21 12:03:54 EDT; 32min ago Docs: man:systemd-sysv-generator(8) Process: 1192 ExecStart=/etc/init.d/elasticsearch start (code=exited, status=0 Tasks: 0 (limit: 512) Apr 21 12:03:54 rubix2 systemd[1]: Starting LSB: Starts elasticsearch… Apr 21 12:03:54 rubix2 systemd[1]: Started LSB: Starts elasticsearch."><meta property="og:type" content="article"><meta property="og:url" content="https://tuuna.github.io/2017/04/21/ubuntu_elastic/"><meta property="article:published_time" content="2017-04-21T07:44:10+00:00"><meta property="article:modified_time" content="2017-04-21T07:44:10+00:00"><meta property="og:site_name" content="洛文小站"><meta name=twitter:card content="summary"><meta name=twitter:title content="记录一个Ubuntu16.10安装ElasticSearch的问题"><meta name=twitter:description content="其实这个问题没有真正解决，只是迫不得已的方法。
 问题描述   首先是笔者的系统信息
$ uname -a Linux XPS 4.8.0-46-generic #49-Ubuntu SMP Fri Mar 31 13:57:14 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux   接下来下载apt自带的elasticsearch
$ sudo apt install elasticsearch   下载非常的顺利，但是访问http://localhost:9200是拒绝访问的
  接下来我们看看这时候elasticsearch的服务状态，大致是这样的
  elasticsearch.service - LSB: Starts elasticsearch Loaded: loaded (/etc/init.d/elasticsearch; bad; vendor preset: enabled) Active: active (exited) since Thu 2017-04-21 12:03:54 EDT; 32min ago Docs: man:systemd-sysv-generator(8) Process: 1192 ExecStart=/etc/init.d/elasticsearch start (code=exited, status=0 Tasks: 0 (limit: 512) Apr 21 12:03:54 rubix2 systemd[1]: Starting LSB: Starts elasticsearch… Apr 21 12:03:54 rubix2 systemd[1]: Started LSB: Starts elasticsearch."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"记录一个Ubuntu16.10安装ElasticSearch的问题","name":"记录一个Ubuntu16.10安装ElasticSearch的问题","description":"其实这个问题没有真正解决，只是迫不得已的方法。\n 问题描述   首先是笔者的系统信息\n$ uname -a Linux XPS 4.8.0-46-generic #49-Ubuntu SMP Fri Mar 31 13:57:14 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux   接下来下载apt自带 …","keywords":[],"articleBody":" 其实这个问题没有真正解决，只是迫不得已的方法。\n 问题描述   首先是笔者的系统信息\n$ uname -a Linux XPS 4.8.0-46-generic #49-Ubuntu SMP Fri Mar 31 13:57:14 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux   接下来下载apt自带的elasticsearch\n$ sudo apt install elasticsearch   下载非常的顺利，但是访问http://localhost:9200是拒绝访问的\n  接下来我们看看这时候elasticsearch的服务状态，大致是这样的\n  elasticsearch.service - LSB: Starts elasticsearch Loaded: loaded (/etc/init.d/elasticsearch; bad; vendor preset: enabled) Active: active (exited) since Thu 2017-04-21 12:03:54 EDT; 32min ago Docs: man:systemd-sysv-generator(8) Process: 1192 ExecStart=/etc/init.d/elasticsearch start (code=exited, status=0 Tasks: 0 (limit: 512) Apr 21 12:03:54 rubix2 systemd[1]: Starting LSB: Starts elasticsearch… Apr 21 12:03:54 rubix2 systemd[1]: Started LSB: Starts elasticsearch. Apr 21 12:36:19 rubix2 systemd[1]: Started LSB: Starts elasticsearch. 可以看到这里其实是active的，但是就是不能访问，并且所有的日志文件夹都是空的。\n 然后笔者看到了一个回答，测试了一下  It seems that to get Elasticsearch to run on 16.04 you have to set START_DAEMON to true on /etc/default/elasticsearch. It comes commented out by default, and uncommenting it makes Elasticsearch start again just fine. Be sure to use systemctl restart instead of just start because the service is started right after installation, and apparently there’s some socket/pidfile/something that systemd keeps that must be released before being able to start the service again — I didn’t bother to track that down, feel free to look for it . 大致的意思就是去把/etc/default/elasticsearch中的START_DAEMON前的#号删除，并且重启服务，好像很多人都是通过这个方式解决的，但是笔者试验后并没有解决问题。\n最后的不能称为解决方法的解决方法 去官网根据手册下载了最新的版本的elasticsearch\nsudo apt-get install openjdk-8-jre curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.3.1.deb sudo dpkg -i elasticsearch-5.3.1.deb sudo /etc/init.d/elasticsearch start 解决了….\n","wordCount":"198","inLanguage":"en","datePublished":"2017-04-21T07:44:10Z","dateModified":"2017-04-21T07:44:10Z","author":{"@type":"Person","name":"赖杰"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tuuna.github.io/2017/04/21/ubuntu_elastic/"},"publisher":{"@type":"Organization","name":"洛文小站","logo":{"@type":"ImageObject","url":"https://tuuna.github.io/favicon.ico"}}}</script></head><body class=single id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://tuuna.github.io accesskey=h><img src=/cloud.png alt=logo aria-label=logo height=35>Home</a>
<span class=logo-switches><span class=theme-toggle><a id=theme-toggle accesskey=t><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span><span class=lang-switch><span>|</span><ul><li><a href=https://tuuna.github.io/about/ title=About aria-label=About>About</a></li></ul></span></span></div><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://tuuna.github.io/archives/><span>Archive</span></a></li><li><a href=https://tuuna.github.io/tags/><span>Tag</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>记录一个Ubuntu16.10安装ElasticSearch的问题</h1><div class=post-meta>April 21, 2017&nbsp;·&nbsp;1 min&nbsp;·&nbsp;赖杰</div></header><div class=post-content><blockquote><p>其实这个问题没有真正解决，只是迫不得已的方法。</p></blockquote><h3 id=问题描述>问题描述<a hidden class=anchor aria-hidden=true href=#问题描述>#</a></h3><ul><li><p>首先是笔者的系统信息</p><pre><code>$ uname -a
Linux XPS 4.8.0-46-generic #49-Ubuntu SMP Fri Mar 31 13:57:14 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux
</code></pre></li><li><p>接下来下载apt自带的elasticsearch</p><pre><code>$ sudo apt install elasticsearch
</code></pre></li><li><p>下载非常的顺利，但是访问<code>http://localhost:9200</code>是拒绝访问的</p></li><li><p>接下来我们看看这时候elasticsearch的服务状态，大致是这样的</p></li></ul><pre><code>elasticsearch.service - LSB: Starts elasticsearch
Loaded: loaded (/etc/init.d/elasticsearch; bad; vendor preset: enabled)
Active: active (exited) since Thu 2017-04-21 12:03:54 EDT; 32min ago
Docs: man:systemd-sysv-generator(8)
Process: 1192 ExecStart=/etc/init.d/elasticsearch start (code=exited, status=0
Tasks: 0 (limit: 512)

Apr 21 12:03:54 rubix2 systemd[1]: Starting LSB: Starts elasticsearch…
Apr 21 12:03:54 rubix2 systemd[1]: Started LSB: Starts elasticsearch.
Apr 21 12:36:19 rubix2 systemd[1]: Started LSB: Starts elasticsearch.
</code></pre><p>可以看到这里其实是active的，但是就是不能访问，并且所有的日志文件夹都是空的。</p><ul><li>然后笔者看到了一个回答，测试了一下</li></ul><pre><code>It seems that to get Elasticsearch to run on 16.04 you have to set START_DAEMON to true on /etc/default/elasticsearch. It comes commented out by default, and uncommenting it makes Elasticsearch start again just fine.

Be sure to use systemctl restart instead of just start because the service is started right after installation, and apparently there’s some socket/pidfile/something that systemd keeps that must be released before being able to start the service again — I didn’t bother to track that down, feel free to look for it .
</code></pre><p>大致的意思就是去把/etc/default/elasticsearch中的START_DAEMON前的#号删除，并且重启服务，好像很多人都是通过这个方式解决的，但是笔者试验后并没有解决问题。</p><h3 id=最后的不能称为解决方法的解决方法>最后的不能称为解决方法的解决方法<a hidden class=anchor aria-hidden=true href=#最后的不能称为解决方法的解决方法>#</a></h3><p>去官网根据手册下载了最新的版本的elasticsearch</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>sudo apt-get install openjdk-8-jre
curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.3.1.deb
sudo dpkg -i elasticsearch-5.3.1.deb
sudo /etc/init.d/elasticsearch start
</code></pre></div><p>解决了….</p></div><footer class=post-footer><div style="padding:10px 0;margin:20px auto;width:100%;font-size:16px;text-align:center"><button id=rewardButton disable=enable onclick="var qr=document.getElementById('QR');if(qr.style.display==='none'){qr.style.display='block';}else{qr.style.display='none'}">
<span>打赏</span></button><div id=QR style=display:none><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=/wechat.jpeg alt="WeChat Pay"></a><p>微信打赏</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=/alipay.jpeg alt=Alipay></a><p>支付宝打赏</p></div></div></div></footer></article></main><footer class=footer><span>&copy; 2020 <a href=https://tuuna.github.io>洛文小站</a></span>
<span>&#183;</span>
<span>备案号 <a href=http://www.beian.miit.gov.cn/ rel="noopener noreferrer">蜀ICP备15022210号-3</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top" accesskey=g><button class=top-link id=top-link type=button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>